{% extends "package/resource_read.html" %}

{%- set exclude_fields = [
    'name',
    'description',
    'title',
    'url',
    'issued',
    'media_type',
    'download_url',
    'rights',
    'license',
    ] -%}

{%- set schema = h.scheming_get_dataset_schema(dataset_type) -%}

{% block resource_additional_information_inner %}
{% set res =  h.prettify_dict_keys(res) %}
  <div class="module-content">
    <h2>{{ _('Additional Information') }}</h2>
    <dl class="dl-horizontal">
      <dt class="dataset-label">{{ _('Permalink') }}</dt>
      <dd class="dataset-details">{% link_for _('Permalink'), controller='ckanext.switzerland.controllers:PermalinkController', action='resource_permalink', id=pkg.name, filename=h.resource_filename(res.url) %}</dd>
      {%- for field in schema.resource_fields -%}
        {%- if field.field_name not in exclude_fields -%}
          <dt class="dataset-label">{{- h.scheming_language_text(field.label) -}}</dt>
          <dd class="dataset-details">
            {%- snippet 'scheming/snippets/display_field.html',
                      field=field, data=res, schema=schema -%}
          </dd>
        {%- endif -%}
      {%- endfor -%}
    </dl>
  </div>
{% endblock %}
